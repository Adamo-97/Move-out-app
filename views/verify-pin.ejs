<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/verify-pin.css" />
    <title>Verify PIN</title>
</head>
<body>
    <form class="form" action="/verify-pin" method="POST">
        <div class="content">
            <p align="center">Enter your 6-digit code</p>

            <div class="inp">
                <!-- Hidden input to store label ID -->
                <input type="hidden" name="labelId" value="<%= labelId %>">

                <!-- PIN input fields -->
                <input maxlength="1" class="input" type="text" name="digit1" required>
                <input maxlength="1" class="input" type="text" name="digit2" required> 
                <input maxlength="1" class="input" type="text" name="digit3" required> 
                <input maxlength="1" class="input" type="text" name="digit4" required> 
                <input maxlength="1" class="input" type="text" name="digit5" required> 
                <input maxlength="1" class="input" type="text" name="digit6" required>
            </div>

            <!-- Verify button -->
            <button type="submit">Verify</button>
        </div>
    </form>

    <script>
        // Auto-focus on next input when a digit is entered
        const inputs = document.querySelectorAll('.input');
        for (let i = 0; i < inputs.length; i++) {
            inputs[i].addEventListener('keyup', function(e) {
                if (this.value.length == this.maxLength) {
                    if (i + 1 < inputs.length) {
                        inputs[i + 1].focus();
                    }
                }
                // Backspace logic to move focus back
                if (e.key === 'Backspace' && i > 0 && !this.value) {
                    inputs[i - 1].focus();
                }
            });
        }
    </script>
</body>
</html>
