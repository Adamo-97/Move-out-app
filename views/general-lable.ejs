<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1920, maximum-scale=1.0" />
    <link rel="shortcut icon" type="image/png" href="https://animaproject.s3.amazonaws.com/home/favicon.png" />
    <meta name="og:type" content="website" />
    <meta name="twitter:card" content="photo" />
    <link rel="stylesheet" type="text/css" href="css/general-lable.css" />
    <link rel="stylesheet" type="text/css" href="css/styleguide.css" />
    <link rel="stylesheet" type="text/css" href="css/globals.css" />
    <title>General Lable</title>
    <link rel="icon" href="img/favicon.png" sizes="64x64" type="image/png">
  </head>
  <body style="margin: 0; background: #ffffff">
    <input type="hidden" id="anPageName" name="page" value="general-lable" />

    <div class="container-center-horizontal">
      <div class="general-lable screen">

        <!-- Background Section -->
        <div class="bg-1y0SvW">
          <div class="bg-style-JkJTeB">
            <img class="path-393-tquknh" src="img/path-129@1x.png" alt="Path 393" />
            <img class="path-394-tquknh" src="img/path-364@1x.png" alt="Path 394" />
            <img class="person-tquknh" src="img/person-10@1x.png" alt="Person" />
            <img class="arrow-tquknh" src="img/arrow-1@1x.png" alt="Arrow" />

            <div class="main-header-tquknh"></div>

            <!-- Logo Section -->
            <div class="logo-tquknh">
              <div class="logo-xUoFZh">
                <div class="m-1XsUWT">
                  <img class="path-400-IOU1IR" src="img/path-370@1x.png" alt="Path 400" />
                </div>

                <div class="v-1XsUWT">
                  <img class="path-401-QhwCtx" src="img/path-295@1x.png" alt="Path 401" />
                </div>

                <div class="e-1XsUWT">
                  <img class="path-402-WTuHtc" src="img/path-296@1x.png" alt="Path 402" />
                </div>

                <div class="group-220-1XsUWT">
                  <img class="rectangle-71-DHSROg" src="img/rectangle-11@1x.png" alt="Rectangle 71" />
                </div>

                <div class="group-221-1XsUWT">
                  <img class="path-403-7PCjHD" src="img/path-373@1x.png" alt="Path 403" />
                  <img class="path-404-7PCjHD" src="img/path-110@1x.png" alt="Path 404" />
                  <img class="path-405-7PCjHD" src="img/path-111@1x.png" alt="Path 405" />
                </div>

                <div class="pin-1XsUWT">
                  <img class="path-406-OA19IC" src="img/path-376@1x.png" alt="Path 406" />
                  <div class="ellipse-21-OA19IC"></div>
                </div>

                <div class="box-1XsUWT">
                  <img class="rectangle-72-iC1El8" src="img/rectangle-12@1x.png" alt="Rectangle 72" />
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- New Label Section -->
        <div class="new-label-section">
          <%- include('new-lable') %>
        </div>

        <!-- Main Shape Section -->
        <div class="main-shape-1y0SvW">
          <div class="main-shape-xF5u7x">
            <div class="rectangle-73-7TrXuf"></div>
            <img class="path-407-7TrXuf" src="img/path-407@1x.png" alt="Path 407" />

            <!-- Box Icon Section -->
            <div class="box-icon-7TrXuf">
              <div class="group-222-dP9QAp">
                <img class="path-408-IxizT8" src="img/path-302@1x.png" alt="Path 408" />
              </div>

              <div class="group-223-dP9QAp">
                <img class="path-409-ayQ10z" src="img/path-303@1x.png" alt="Path 409" />
              </div>

              <div class="group-224-dP9QAp">
                <img class="path-410-Yx6hBL" src="img/path-304@1x.png" alt="Path 410" />
              </div>

              <div class="group-225-dP9QAp">
                <img class="path-411-nmnYvs" src="img/path-305@1x.png" alt="Path 411" />
                <img class="path-412-nmnYvs" src="img/path-306@1x.png" alt="Path 412" />
                <img class="path-413-nmnYvs" src="img/path-307@1x.png" alt="Path 413" />
              </div>

              <div class="group-226-dP9QAp">
                <img class="path-414-oCoYoe" src="img/path-308@1x.png" alt="Path 414" />
              </div>

              <div class="group-227-dP9QAp">
                <img class="path-415-NKEyIt" src="img/path-309@1x.png" alt="Path 415" />
                <img class="path-416-NKEyIt" src="img/path-307@1x.png" alt="Path 416" />
              </div>

              <div class="group-228-dP9QAp">
                <img class="path-417-rxCNyv" src="img/path-311@1x.png" alt="Path 417" />
              </div>

              <div class="group-229-dP9QAp">
                <img class="path-418-77ae2B" src="img/path-307@1x.png" alt="Path 418" />
              </div>

              <img class="path-419-dP9QAp" src="img/path-313@1x.png" alt="Path 419" />

              <div class="group-230-dP9QAp">
                <img class="path-420-7F9w7v" src="img/path-314@1x.png" alt="Path 420" />
                <img class="path-421-7F9w7v" src="img/path-315@1x.png" alt="Path 421" />
              </div>

              <div class="group-231-dP9QAp">
                <img class="path-422-Oxumpx" src="img/path-307@1x.png" alt="Path 422" />
              </div>
            </div>

            <h1 class="title-7TrXuf title lato-black-white-81-1px">Titel :</h1>
            <div class="whats-inside-the-box-7TrXuf lato-black-black-40-1px">What&#39;s inside the box?..</div>
          </div>
        </div>

        <!-- Sign Out Button -->
        <a href="/login">
          <div class="sign-out-1y0SvW smart-layers-pointers">
            <div class="group-377-Oet0gm">
              <div class="sign-out-6XaiVb montserrat-normal-torch-red-37-7px">Sign out</div>
              <img class="path-466-6XaiVb smart-layers-pointers" src="img/path-466-10@1x.png" alt="Path 466" />
              <div class="group-373-6XaiVb">
                <img class="path-467-DloPmU" src="img/path-467-10@1x.png" alt="Path 467" />
                <img class="path-468-DloPmU" src="img/path-468-10@1x.png" alt="Path 468" />
              </div>
            </div>
          </div>
        </a>

        <!-- Search Bar -->
        <a href="/search">
          <div class="search-bar-1y0SvW smart-layers-pointers">
            <a href="/search" onclick="window.event.stopPropagation()"> 
              <div class="search-box-cR3VYn"></div>
            </a>
            <img class="search-icon-cR3VYn smart-layers-pointers" src="img/search-icon-20@1x.png" alt="search icon" />
            <input
              class="seach-for-a-specific-lable-cR3VYn lato-black-white-30px"
              name="seach-for-a-specific-lable-220"
              placeholder="Seach for a specific lable ..."
              type="text"
              required
            />
          </div>
        </a>

        <!-- Cancel Button -->
        <a href="/new-lable" id="cancel-button">
          <div class="cancel-1y0SvW smart-layers-pointers">
            <img class="cancel-zuZF9H" src="img/cancel-13@1x.png" alt="Cancel" />
          </div>
        </a>

        <!-- Upload Picture Button -->
        <a href="/general-image">
          <div class="upload-button-1y0SvW smart-layers-pointers">
            <div class="rectangle-75-WmHaMI"></div>
            <div class="upload-icon-WmHaMI">
              <img class="path-423-4LPT0Q" src="img/path-423-2@1x.png" alt="Path 423" />
              <img class="path-424-4LPT0Q" src="img/path-424-2@1x.png" alt="Path 424" />
            </div>
            <div class="upload-a-picture-WmHaMI lato-black-white-42px">Upload a picture</div>
          </div>
        </a>

        <!-- Record Voice Memo Button -->
        <a href="/general-voice">
          <div class="record-button-1y0SvW smart-layers-pointers">
            <div class="rectangle-76-TrxLyB"></div>
            <img class="icon-TrxLyB icon" src="img/icon-4@1x.png" alt="icon" />
            <div class="record-a-voice-memo-TrxLyB lato-black-white-42px">Record a voice memo</div>
          </div>
        </a>

        <!-- Title Input Section -->
        <div class="title-1y0SvW title">
          <div class="rectangle-194-qA6Ro4"></div>
          <textarea
              class="titel-qA6Ro4 lato-black-white-55px"
              name="titel114"
              id="label-name" 
              placeholder="What will you name your box?..."
              type="text"
              required
          ></textarea>

          <!-- Public Switch -->
          <div class="public-switch-container">
            <span class="public-label">Public</span>
            <!-- Hidden input to track the switch state -->
            <input type="hidden" id="publicStatus" name="public" value="true">
            <!-- Toggle switch with updated JavaScript function -->
            <label class="switch">
                <input type="checkbox" id="publicToggle" checked onclick="updatePublicStatus()">
                <span class="slider"></span>
            </label>
          </div>        

          <!-- Using the existing button for navigation -->
          <a href="#" id="text-button">
            <div class="text-button-1y0SvW smart-layers-pointers">
                <div class="rectangle-77-OpoWAB"></div>
                <img class="icon-OpoWAB icon" src="img/icon-1@1x.png" alt="icon" />
                <div class="write-a-description-OpoWAB lato-black-white-42px">Write a description</div>
            </div>
          </a>
        </div>
      </div>
    </div>

    <script>
      function updatePublicStatus() {
          const toggle = document.getElementById('publicToggle');
          document.getElementById('publicStatus').value = toggle.checked ? 'true' : 'false';
      }

      document.addEventListener('DOMContentLoaded', () => {
        const cancelButton = document.getElementById('cancel-button');

        // Listen for the cancel button click
        cancelButton.addEventListener('click', (event) => {
            event.preventDefault();
            window.history.back(); // Goes back to the previous page
        });
      });

      document.addEventListener('DOMContentLoaded', () => {
        const textButton = document.getElementById('text-button');
        const recordButton = document.querySelector('.record-button-1y0SvW'); 
        const uploadButton = document.querySelector('.upload-button-1y0SvW');
        const labelNameInput = document.getElementById('label-name');
        const publicStatusInput = document.getElementById('publicStatus');

        // Check if all necessary elements are available
        if (!labelNameInput || !publicStatusInput) {
            console.error('Label Name input or Public Status input not found!');
            return;
        }

        // Common function to handle redirection
        function handleNavigation(event, redirectUrl) {
            event.preventDefault(); // Prevent default behavior

            // Get the values from the input
            const labelName = labelNameInput.value.trim();
            const categoryId = 3; // Set category ID to 3 for "General"
            const publicStatus = publicStatusInput.value; // Get public status

            // Check if label name is provided
            if (labelName) {
                // Redirect to the specified page with query parameters
                window.location.href = `${redirectUrl}?titel114=${encodeURIComponent(labelName)}&category_id=${categoryId}&public=${publicStatus}`;
            } else {
                alert('Please enter a label name!');
            }
        }

        // Event listener for "Write a Description" button
        textButton.addEventListener('click', (event) => {
            handleNavigation(event, '/general-text');
        });

        // Event listener for "Record a Voice Memo" button
        recordButton.addEventListener('click', (event) => {
            handleNavigation(event, '/general-voice');
        });

        // Event listener for "Upload a Picture" button
        uploadButton.addEventListener('click', (event) => {
            handleNavigation(event, '/general-image');
        });
    });

    </script>
  </body>
</html>